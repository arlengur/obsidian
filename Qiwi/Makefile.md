Makefile — это набор инструкций для программы make, которая помогает собирать программный проект

# Программа make

Если запустить  `make`  то программа попытается найти файл с именем по умолчание `Makefile` в текущем каталоге и выполнить инструкции из него. Если в текущем каталоге есть несколько мейкфайлов, то можно указать на нужный вот таким образом:  `make -f MyMakefile`

Самый простой Мейкфайл должен содержать такие части:  
```
цель: зависимости
[tab] команда
```

Пример:
```
all:
	javac Test.java
```

`all` - это цель по умолчанию для мейкфайла, которая будет выполняться, если никакая другая цель не указана явно

# Использование зависимостей

```
all: hello

hello: compile
	java Test
	
compile:
	javac Test.java

clean:
	rm -rf *.class
```

Теперь у цели `all` есть только зависимость, но нет команды. В этом случае make при вызове последовательно выполнит все указанные в файле зависимости этой цели.  
Еще добавилась новая цель `clean`. Она используется для быстрой очистки всех результатов сборки проекта. Очистка запускается так: `make clean`

# Использование переменных и комментариев
```
# comment
COMPILE=javac
RUN=java

all: hello

hello: compile
	$(RUN) Test
	
compile:
	$(COMPILE) Test.java

clean:
	rm -rf *.class
```
Для использования переменных надо просто присвоить им значение до момента их использования. После этого можно подставлять их значение в нужное место: `$(VAR)`