# Архитектура ПО
- набор модулей
- описание того как они должны разрабатываться
- описание связей между модулями
- создание интерфейсов описывающих для чего модуль предназначен
-  удаление/изменение модуля должно быть простым

# ПО
- ядро (бизнес-логика)
- инструменты (бд, orm, брокеры, кэш)
- ui
- framework

# Многослойсная архитектура
Изоляция слоев достигается использованием интерфейсов и применения принципа инверсии зависимости (компоненты зависят от абстракций а не от реализаций)
Позволяет: 
- за счет многослойной структуры получает независимые слои, которые можно переиспользовать
- бизнес-логика не зависит от инструментов и всегда статична
- завязывание на абстракции а не на конкретные реализации
- линейный поток данных (верхние слои используют нижние, но не наоборот). меньше лишних связей и кольцевых зависимостей

Структура
- core (не знает о протоколах, бд, используемых инструментах) и интерфейсы
	- domain model (модель предметной области, данные с которыми работаем)
		- user
		- product
	- domain services (interface repository, интерфейсы для работы с моделью)
		- userRepository
		- productRepository
	- application services (бизнес-логика)
		- userService (регистрация пользователя)
		- productService (заполнение договора_
- реализация интерфейсов
- infrastructure (взаимодействие с бд, конфигурация и тд)
	- api (контроллеры)
	- ui
	- db
	- configs
	- tests

Многослойсная архитектура
- Core бизнес правила (классы, use case и интерфейсы)
	- Реализация интерфейсов
- Application бизнес правила (use case и интерфейс)
	- Реализация интерфейсов
- Application (вызывает use case Application бизнес правил)

Модули
- Сильная связанность (компоненты модуля направлены на решение одной четкой задачи, сильно связаны между собой)
- Слабая зацепленность (с другими модулями максимально малая зависимость)

Кодовая база хорошая когда
- Есть масштабируемость (легко вносить изменения)
- Новым людям легко вникнуть в проект
- Код простой

# Принципы проектирования
- DRY - не повторять написанный код
- KISS - keep it short and simple
- SOLID

Теория без практики мертвы, а практика без теории слепа!

# MVC (1978)
- Бизнес логика (Module)
	- регистрация пользователя
	- сохранение пароля
	- хэширование
- Интерфейс (View)
- Управление (Controller)

MVVM - Model - View - ViewModdel - Model
- Fontend
- Mobile
- Desctop

SPA - single page application
S3 - simple storage service

# WWW 
![](arcwww.png)

# SOLID
- Single responsibility (принцип еднственной ответственности)
	- 1 сущность решает 1 задачу 
		- модули
		- легко вносить изменения
		- нет godobject
		- решает одну задачу
		- пример
		- class - модель
			- <- поведение
				- repository
				- sender
				- logger
				- printer
	- иначе
		- монолит - что-то одно сломалось - сломалось все
		- сложно читать
		- сложно вносить изменения
		- сложность в контроле версий (когда разные люди делают правки в 1 файле)
- Open close (сущности открыты для расширения, но закрыты для изменения)
	- тут нужно создавать интерфейсы и имплементировать их в классах
	- нет необходимости в регрессии (проверки что при изменениях ничего не сломалось)
	- меньше вероятность ошибок
- Liskov substitution (принцип подстановки Барбары Лисков)
	- Функции, которые используют родительский тип должны точно также работать с дочерними классами или наследуемый класс дополняет а не замещает поведение базового класса
- Interface segregation (принцип разделения интерфейса)
	- программные сущности не зависят от методов, которые они используют или нельзя заставлять клиента реализовывать интерфейс, которым он не пользуется
	- получаем более предсказуемую работу
	- код менее связанный
- Dependency Inversion (инверсия зависимости)
	- модули высокого уровня не зависят от модулей более низкого уровня а абстракции не зависят от деталей, детали зависят от абстракций

Антипаттерн
- God object - 1 сущность решает все задачи

# Программирование
- Процедурное - программа выполняет последовательность функций и получает результат
- Объектно-ориентированное
	- класс (описание характеристик)
		- свойства (характеристики)
		- методы (действия объекта)
	- объект (экземпляр класса)

## ООП
- Инкапсуляция
	- класс является капсулой содержащей свойства и методы
	- сокрытие (private)
- Наследование
- Полиморфизм (один и тот же фрагмент кода может работать с разными типами данных)
	- параметрический (истинный)
		- Есть несколько дочерних классов у родителя и вызывая его метод приветствия получаем разные ответы в зависимости от дочернего класса
	- ad-hoc (мнимый)
		- метод перегружается параметрами разных типов
		- когда дочерний класс преобразовываем к родительскому

Композиция классов 
- Класс автомобиль содержит объект класса двигатель и массив объектов класса колеса причем двигатель и колеса не могут существовать отдельно от авто (являются его составными частями)

Агрегация классов
- Класс автомобиль содержит объект класса двигатель и массив объектов класса колеса 
- В класс авто передается извне класс елочка-освежитель, который может существовать отдельно от авто
